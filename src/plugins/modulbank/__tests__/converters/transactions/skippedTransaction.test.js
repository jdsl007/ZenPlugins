import { convertTransaction } from '../../../converters'

describe('convertTransaction', () => {
  it.each([
    {
      id: 'a0cbde56-6b1e-4d8d-8588-0e3767199551',
      companyId: '5b3ee23f-071d-4da4-b31e-a7d10408df59',
      status: 'Canceled',
      category: 'Credit',
      contragentName: '',
      contragentInn: '',
      contragentKpp: '',
      contragentBankAccountNumber: '',
      contragentBankName: '',
      contragentBankBic: '',
      currency: 'RUR',
      amount: 1,
      bankAccountNumber: '40802810470014241168',
      paymentPurpose: 'Операция списания средств с карты 521355%2606 YANDEX.TAXI\\MOSCOW\\RU',
      created: '2019-09-01T00:00:00',
      docNumber: '',
      absId: '',
      ibsoId: '0',
      kbk: '',
      oktmo: '',
      paymentBasis: '',
      taxCode: '',
      taxDocNum: '',
      taxDocDate: '',
      payerStatus: '',
      uin: ''
    },
    {
      id: 'e7d8bb4c-c7fb-40fd-ba3e-aae202a60343',
      companyId: '84b0fc95-e5c9-46a6-b5ac-a97702c6241f',
      status: 'ClarifyRequiredOutcome',
      category: 'Credit',
      contragentName: 'ИП НИКОЛАЕВ НИКОЛАЙ НИКОЛАЕВИЧ',
      contragentInn: '421716143132',
      contragentKpp: '',
      contragentBankAccountNumber: '30302810200000002992',
      contragentBankName: 'Ф-л Московский №2 ПАО Банк "ФК Открытие"',
      contragentBankBic: '044525175',
      currency: 'RUR',
      amount: 7500,
      bankAccountNumber: '40802810170010130227',
      paymentPurpose: 'Перевод ошибочно перечисленной суммы Без НДС',
      executed: '2019-10-10T00:00:00',
      created: '2019-10-10T12:20:34.192',
      docNumber: '42688',
      absId: '26506224713',
      ibsoId: '26506470889',
      kbk: '',
      oktmo: '',
      paymentBasis: '',
      taxCode: '',
      taxDocNum: '',
      taxDocDate: '',
      payerStatus: '',
      uin: '0'
    },
    {
      id: '1b2f6374-c563-464d-bfa5-aadc01e3e282',
      companyId: '8a4d6bdb-6b11-45de-92c8-a97c028a9529',
      status: 'RejectByBank',
      category: 'Credit',
      contragentName: 'ОАО "РЖД"',
      contragentInn: '7708503727',
      contragentKpp: '',
      contragentBankAccountNumber: '40702810200281104189',
      contragentBankName: 'ФИЛИАЛ БАНКА ВТБ (ПАО) В Г. ЕКАТЕРИНБУРГЕ',
      contragentBankBic: '046577952',
      currency: 'RUR',
      amount: 310,
      bankAccountNumber: '40702810370010101936',
      paymentPurpose: '1005860460:  4 услуги с НДС. ЗА ООО "НЭО "ЛЕСТЕР ЭКСПЕРТ" ИНН 5904188926 Без НДС',
      created: '2019-10-04T08:48:31.81',
      docNumber: '183',
      absId: '26228803594',
      ibsoId: '0',
      kbk: '',
      oktmo: '',
      paymentBasis: '',
      taxCode: '',
      taxDocNum: '',
      taxDocDate: '',
      payerStatus: '',
      uin: '0'
    },
    {
      id: '5b0dc410-f949-484b-be8a-b1a801cc668f',
      companyId: 'a5dc5b6c-797d-49b4-8f91-e85aee8c74de',
      status: 'RejectByBeneficiary',
      category: 'Credit',
      contragentName: 'Индивидуальный предприниматель Николаев Николай Николаевич',
      contragentInn: '480708347869',
      contragentKpp: '',
      contragentBankAccountNumber: '40802810670010394408',
      contragentBankCorrAccount: '30101810645250000092',
      contragentBankName: 'МОСКОВСКИЙ ФИЛИАЛ АО КБ "МОДУЛЬБАНК", г Москва',
      contragentBankBic: '044525092',
      currency: 'RUR',
      amount: 2050371.5,
      bankAccountNumber: '40802810270013000076',
      paymentPurpose: 'Перевод между счетами. Без НДС',
      created: '2024-07-09T08:22:52.799',
      docNumber: '585235',
      absId: '',
      ibsoId: '0',
      kbk: '',
      oktmo: '',
      paymentBasis: '',
      taxCode: '',
      taxDocNum: '',
      taxDocDate: '',
      payerStatus: '',
      uin: '',
      sbpOperId: '',
      sbpOperIdForRefund: '',
      rcvQrcId: '',
      Oid: ''
    },
    {
      id: '83db7a59-751b-4dcf-a6ba-b289023701e9',
      companyId: 'ad7b5aee-2ab3-47e4-ba69-cb3bfc120fbf',
      status: 'UnderControl',
      category: 'Credit',
      contragentName: 'Индивидуальный предприниматель Николаев Николай Николаевич',
      contragentInn: '695010301779',
      contragentKpp: '',
      contragentBankAccountNumber: '40802810470010468945',
      contragentBankCorrAccount: '30101810645250000092',
      contragentBankName: 'МОСКОВСКИЙ ФИЛИАЛ АО КБ "МОДУЛЬБАНК", г Москва',
      contragentBankBic: '044525092',
      currency: 'RUR',
      amount: 1277711,
      bankAccountNumber: '40802810470013001480',
      paymentPurpose: 'Перевод между счетами. Без НДС',
      created: '2025-02-19T10:19:19.373',
      docNumber: '96616',
      absId: '',
      ibsoId: '0',
      kbk: '',
      oktmo: '',
      paymentBasis: '',
      taxCode: '',
      taxDocNum: '',
      taxDocDate: '',
      payerStatus: '',
      uin: '',
      sbpOperId: '',
      sbpOperIdForRefund: '',
      rcvQrcId: '',
      Oid: ''
    }
  ])('skips specific transaction', (apiTransaction) => {
    expect(convertTransaction(apiTransaction, {
      id: 'account',
      instrument: 'RUB'
    })).toBeNull()
  })
})
